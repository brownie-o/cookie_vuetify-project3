import F from"./RegisterView-1d34c1be.js";import B from"./LoginView-8b386201.js";import{_ as M,u as j,c as x,a as H,l as q,b as $,r as D,d as z,o as a,e as G,f as l,w as e,g as o,F as J,h as s,V as d,i as p,j as n,k as y,m as A,p as K,n as O,q as f,s as Q}from"./index-568aef07.js";import{V as T,a as W,b as X}from"./VNavigationDrawer-6cfcebae.js";import{V as m,a as Y}from"./VRow-21cf09fd.js";import{V as c,a as I,b as Z}from"./VList-18dee034.js";import"./_commonjsHelpers-de833af9.js";import"./index.esm-18b5cf83.js";import"./VForm-936758d6.js";const ee=""+new URL("../favicon.ico",import.meta.url).href;const _=v=>(K("data-v-1b8127bd"),v=v(),O(),v),oe=_(()=>f("span",null,"Home",-1)),te=_(()=>f("span",null,"Login",-1)),ae=_(()=>f("span",null,"Register",-1)),le=_(()=>f("span",null,"Main",-1)),se=_(()=>f("span",null,"Profile",-1)),ie=_(()=>f("span",null,"Friends",-1)),ne={__name:"FrontLayout",setup(v){const{xs:V}=j(),P=x(()=>V.value),{apiAuth:R}=Q(),U=H(),w=q(),t=$(),b=D(0),L=D(!1),g=D(!1),C=()=>{if(V.value)return"center";if(!V.value)return"bottom"},k=()=>{g.value=!1,L.value=!1},E=async()=>{var h,r;try{await R.delete("/users/logout"),t.logout(),w({text:"登出成功",showCloseButton:!1,snackbarProps:{timeout:2e3,color:"green",location:C(),rounded:"pill",variant:"tonal"}}),U.push("/")}catch(u){console.log(u);const i=((r=(h=u==null?void 0:u.response)==null?void 0:h.data)==null?void 0:r.message)||"發生錯誤，請稍後再試";w({text:i,showCloseButton:!1,snackbarProps:{timeout:2e3,color:"red",location:C(),rounded:"pill",variant:"tonal"}})}},N=x(()=>{switch(b.value){case 0:return"#F2E8DC";case 1:return"#8FA9BF";case 2:return"#D9D9D9";default:return"blue-grey"}}),S=x(()=>`https://source.boringavatars.com/beam/120/${t.account}?colors=907363,BFAE9F,D9CDBF,F2E8DC,8FA9BF`);return(h,r)=>{const u=z("router-view");return a(),G(J,null,[P.value?(a(),l(T,{key:0,modelValue:b.value,"onUpdate:modelValue":r[1]||(r[1]=i=>b.value=i),"bg-color":N.value,mode:"shift",style:{height:"56px"}},{default:e(()=>[o(Y,{justify:"center"},{default:e(()=>[s(t).isLogin?n("",!0):(a(),l(m,{key:0,class:"center",cols:"4"},{default:e(()=>[o(d,{block:"",to:"/"},{default:e(()=>[o(p,{icon:"mdi-home"}),oe]),_:1})]),_:1})),s(t).isLogin?n("",!0):(a(),l(m,{key:1,class:"center",cols:"4"},{default:e(()=>[o(y,{"max-width":"448"},{activator:e(({props:i})=>[o(d,A(i,{block:""}),{default:e(()=>[o(p,{icon:"mdi-login"}),te]),_:2},1040)]),default:e(({isActive:i})=>[o(B,{onCloseDialog:k})]),_:1})]),_:1})),s(t).isLogin?n("",!0):(a(),l(m,{key:2,class:"center",cols:"4"},{default:e(()=>[o(y,{"max-width":"448",modelValue:g.value,"onUpdate:modelValue":r[0]||(r[0]=i=>g.value=i)},{activator:e(({props:i})=>[o(d,A(i,{block:""}),{default:e(()=>[o(p,{icon:"mdi-account-plus"}),ae]),_:2},1040)]),default:e(({isActive:i})=>[o(F,{onCloseDialog:k})]),_:1},8,["modelValue"])]),_:1})),s(t).isLogin?(a(),l(m,{key:3,class:"center",cols:"4"},{default:e(()=>[o(d,{block:"",to:"/main"},{default:e(()=>[o(p,{icon:"mdi-timer-play-outline"}),le]),_:1})]),_:1})):n("",!0),s(t).isLogin?(a(),l(m,{key:4,class:"center",cols:"4"},{default:e(()=>[o(d,{block:"",to:"/profile"},{default:e(()=>[o(p,{icon:"mdi-account-circle"}),se]),_:1})]),_:1})):n("",!0),s(t).isLogin?(a(),l(m,{key:5,class:"center",cols:"4"},{default:e(()=>[o(d,{block:"",to:"/friends"},{default:e(()=>[o(p,{icon:"mdi-account-star"}),ie]),_:1})]),_:1})):n("",!0)]),_:1})]),_:1},8,["modelValue","bg-color"])):(a(),l(W,{key:1,"expand-on-hover":"",rail:"",color:"#F2E8DC","mobile-breakpoint":"sm"},{default:e(()=>[o(I,null,{default:e(()=>[s(t).isLogin?(a(),l(c,{key:0,"prepend-avatar":S.value,title:s(t).name,to:"/main",style:{color:"#403D3C"},active:!1},null,8,["prepend-avatar","title"])):n("",!0),s(t).isLogin?n("",!0):(a(),l(c,{key:1,"prepend-avatar":ee,title:"Cookie Project",to:"/",style:{color:"#403D3C"},active:!1}))]),_:1}),o(Z),o(I,{density:"compact",nav:""},{default:e(()=>[s(t).isLogin?n("",!0):(a(),l(c,{key:0,class:"textcolor","prepend-icon":"mdi-home",to:"/",title:"Home",active:!1})),s(t).isLogin?n("",!0):(a(),l(c,{key:1,class:"textcolor","prepend-icon":"mdi-login",to:"/",title:"Login",active:!1},{default:e(()=>[o(y,{modelValue:L.value,"onUpdate:modelValue":r[2]||(r[2]=i=>L.value=i),activator:"parent","max-width":"448"},{default:e(()=>[o(B,{onCloseDialog:k})]),_:1},8,["modelValue"])]),_:1})),s(t).isLogin?n("",!0):(a(),l(c,{key:2,class:"textcolor","prepend-icon":"mdi-account-plus",to:"/",title:"Register",active:!1},{default:e(()=>[o(y,{modelValue:g.value,"onUpdate:modelValue":r[3]||(r[3]=i=>g.value=i),activator:"parent","max-width":"448"},{default:e(()=>[o(F,{onCloseDialog:k})]),_:1},8,["modelValue"])]),_:1})),s(t).isLogin?(a(),l(c,{key:3,class:"textcolor","prepend-icon":"mdi-timer-play-outline",to:"/main",title:"Main",active:!1})):n("",!0),s(t).isLogin?(a(),l(c,{key:4,class:"textcolor","prepend-icon":"mdi-account-circle",to:"/profile",title:"Profile"})):n("",!0),s(t).isLogin?(a(),l(c,{key:5,class:"textcolor","prepend-icon":"mdi-account-star",to:"/friends",title:"Friends"})):n("",!0),s(t).isLogin?(a(),l(c,{key:6,class:"textcolor","prepend-icon":"mdi-logout",title:"Logout",onClick:E})):n("",!0)]),_:1})]),_:1})),o(X,null,{default:e(()=>[o(u)]),_:1})],64)}}},ve=M(ne,[["__scopeId","data-v-1b8127bd"]]);export{ve as default};
