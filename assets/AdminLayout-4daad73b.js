import{_ as F,u as L,c as g,b as I,a as S,l as N,d as R,o as s,e as i,f as b,w as e,i as o,F as d,bd as V,V as h,j as k,q as D,bs as E,h as j,p as M,n as P,s as U}from"./index-eeb36eca.js";import{V as q,a as H,b as $}from"./VNavigationDrawer-16f0e83e.js";import{V as y,a as z}from"./VRow-30f61178.js";import{V as p,a as x,b as G}from"./VList-ebac1ef5.js";const J=n=>(M("data-v-0e6ad078"),n=n(),P(),n),K=J(()=>D("span",null,"Logout",-1)),O={__name:"AdminLayout",setup(n){const{xs:l}=L(),B=g(()=>l.value),c=I(),{apiAuth:w}=U(),C=S(),_=N(),m=[{to:"/",text:"Home",icon:"mdi-home"},{to:"/admin/users",text:"User",icon:"mdi-account-cog"}],A=g(()=>`https://source.boringavatars.com/beam/120/${c.account}?colors=907363,BFAE9F,D9CDBF,F2E8DC,8FA9BF`),f=()=>{if(l.value)return"center";if(!l.value)return"bottom"},v=async()=>{var r,u;try{await w.delete("/users/logout"),c.logout(),_({text:"登出成功",showCloseButton:!1,snackbarProps:{timeout:2e3,color:"green",location:f(),rounded:"pill",variant:"tonal"}}),C.push("/")}catch(a){console.log(a);const t=((u=(r=a==null?void 0:a.response)==null?void 0:r.data)==null?void 0:u.message)||"發生錯誤，請稍後再試";_({text:t,showCloseButton:!1,snackbarProps:{timeout:2e3,color:"red",location:f(),rounded:"pill",variant:"tonal"}})}};return(r,u)=>{const a=R("RouterView");return s(),i(d,null,[B.value?(s(),b(q,{key:0,style:{height:"56px",color:"#403D3C"},"bg-color":"#D9D9D9",mode:"shift"},{default:e(()=>[o(z,{justify:"center"},{default:e(()=>[(s(),i(d,null,V(m,t=>o(y,{class:"center",cols:"4",key:t.to},{default:e(()=>[o(h,{block:"",to:t.to},{default:e(()=>[o(k,{icon:t.icon},null,8,["icon"]),D("span",null,E(t.text),1)]),_:2},1032,["to"])]),_:2},1024)),64)),o(y,{class:"center",cols:"4",onClick:v},{default:e(()=>[o(h,{block:""},{default:e(()=>[o(k,{icon:"mdi-logout"}),K]),_:1})]),_:1})]),_:1})]),_:1})):(s(),b(H,{key:1,"expand-on-hover":"",rail:"",color:"#D9D9D9","mobile-breakpoint":"sm"},{default:e(()=>[o(x,null,{default:e(()=>[o(p,{"prepend-avatar":A.value,title:j(c).account},null,8,["prepend-avatar","title"])]),_:1}),o(G),o(x,null,{default:e(()=>[(s(),i(d,null,V(m,t=>o(p,{key:t.to,title:t.text,"prepend-icon":t.icon,to:t.to},null,8,["title","prepend-icon","to"])),64)),o(p,{title:"logout","prepend-icon":"mdi-logout",onClick:v})]),_:1})]),_:1})),o($,null,{default:e(()=>[o(a)]),_:1})],64)}}},Y=F(O,[["__scopeId","data-v-0e6ad078"]]);export{Y as default};
